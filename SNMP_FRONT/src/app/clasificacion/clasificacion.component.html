<div class="container" *ngIf="muestraHome=='false'
 && muestraDetalle=='false'
  && detalleClasificacion=='false' 
   &&  detalleOnts=='false'  
  || muestraHome==undefined 
   && muestraDetalle==undefined 
   && detalleClasificacion==undefined 
   && detalleOnts==undefined " >
  <span class="title-center2"> Monitoreo de OLTs</span>
<br><br>
<mat-divider></mat-divider>
<br>

<div class="row d-flex justify-content-center">
  <div class="col-sm-3  d-flex justify-content-center align-items-center">
    <div  id="chartdiv" style= "width:400px; height: 300px;"  class="col-sm-12 p-0">
      
    </div>  
  </div>
  <div class="col-sm-6">
    <div class="container-flow d-flex justify-content-start">
      <span style="font-size: 20px; font-family: Montserrat;"> OLTs</span>
    </div>
    <div class="container-flow d-flex flex-row  ">
      <mat-card class="info col-sm-4 m-2 ">
        <div class="container">
          <div class="row">
            <div class="col-sm-4">
              <h5 class="tituloTec">HUAWEI:</h5>
            </div>

        </div>
        <div class="row">
          <div class="col-sm-2">
            
              <h4 class="totales">{{totalHuawei | totalPipe}}</h4>
          </div>
          <div class="col-sm-9">
            <h5 class="subtitulo">&nbsp;&nbsp;
              <img  class="icon-avata2" src="./assets/img/up.png"/>&nbsp;<span class="tatalUpDown">{{totalArribaHuawei  | totalPipe}}</span></h5>
        </div>

      </div>
            <div class="row">
              <div class="col-sm-2"></div>
                <div class="col-sm-9">
                  <h5 class="subtitulo">&nbsp;&nbsp;
                    <img  class="icon-avata2" src="./assets/img/down.png"/>&nbsp;<span class="tatalUpDown">{{totalAbajoHuawei  | totalPipe}}</span></h5>
              </div>
            </div>
        </div>
      </mat-card>
      <mat-card class="info col-sm-4 m-2">
      <div class="container">
        <div class="row">
          <div class="col-sm-4">
            <h5 class="tituloTec">ZTE:</h5>
          </div>

      </div>
      <div class="row">
        <div class="col-sm-2">
            <h4 class="totales">{{totalZte  | totalPipe}}</h4>
        </div>
        <div class="col-sm-9">
          <div class="col-sm-2"></div>
          <h5 class="subtitulo">&nbsp;&nbsp;
            <img  class="icon-avata2" src="./assets/img/up.png"/>&nbsp;<span class="tatalUpDown">{{totalArribaZte  | totalPipe}}</span></h5>
      </div>

    </div>
          <div class="row">
            <div class="col-sm-2"></div>
              <div class="col-sm-9">
                <h5 class="subtitulo">&nbsp;&nbsp;
                  <img  class="icon-avata2" src="./assets/img/down.png"/>&nbsp;<span class="tatalUpDown">{{totalAbajoZte | totalPipe}}</span></h5>
            </div>
          </div>
      </div>
      </mat-card>

      <mat-card class="info col-sm-4 m-2">
          <div class="container">
            <div class="row">
              <div class="col-sm-12">
                <h5 class="tituloTe2">FIBER HOME:</h5>
              </div>

          </div>
          <div class="row">
            <div class="col-sm-2">
                <h4 class="totales">{{totalFb | totalPipe}}</h4>
            </div>
            <div class="col-sm-9">
              <h5 class="subtitulo">&nbsp;&nbsp;
                <img  class="icon-avata2" src="./assets/img/up.png"/><span class="tatalUpDown">{{totalFbArriba | totalPipe}}</span></h5>
          </div>

        </div>
              <div class="row">
                <div class="col-sm-2"></div>
                  <div class="col-sm-9">
                    <h5 class="subtitulo">&nbsp;&nbsp;
                      <img  class="icon-avata2" src="./assets/img/down.png"/><span class="tatalUpDown">{{totalFbAbajo | totalPipe}}</span></h5>
                </div>
              </div>
          </div>
      </mat-card> 

    </div>
    <div class="container-flow">
      <span style="font-size: 20px; font-family: Montserrat;"> ONTs Empresariales</span>
    </div>
    <div class="container-flow d-flex flex-row  ">
      <!-- aquí los otros -->
      <mat-card class="info col-sm-4 m-2">
        <div class="container">
          <div class="row">
            <div class="col-sm-4">
              <h5 class="tituloTec">HUAWEI:</h5>
            </div>
  
        </div>
        <div class="row">
          <div class="col-sm-2">
            
              <h4 class="totales">{{totalHuaweiEmp}}</h4>
          </div>
          <div class="col-sm-9">
            <h5 class="subtitulo">&nbsp;&nbsp;
              <img  class="icon-avata2" src="./assets/img/up.png"/>&nbsp;<span class="tatalUpDown">{{totalArribaHuaweiEmp | totalPipe}}</span></h5>
        </div>
  
      </div>
            <div class="row">
              <div class="col-sm-2"></div>
                <div class="col-sm-9">
                  <h5 class="subtitulo">&nbsp;&nbsp;
                    <img  class="icon-avata2" src="./assets/img/down.png"/>&nbsp;<span class="tatalUpDown">{{totalAbajoHuaweiEmp | totalPipe}}</span></h5>
              </div>
            </div>
        </div>
      </mat-card>
      <mat-card class="info col-sm-4 m-2">
        <div class="container">
          <div class="row">
            <div class="col-sm-4">
              <h5 class="tituloTec">ZTE:</h5>
            </div>
    
        </div>
        <div class="row">
          <div class="col-sm-2">
              <h4 class="totales">{{totalZteEmp | totalPipe}}</h4>
          </div>
          <div class="col-sm-9">
            <div class="col-sm-2"></div>
            <h5 class="subtitulo">&nbsp;&nbsp;
              <img  class="icon-avata2" src="./assets/img/up.png"/>&nbsp;<span class="tatalUpDown">{{totalArribaZteEmp | totalPipe}}</span></h5>
        </div>
    
      </div>
            <div class="row">
              <div class="col-sm-2"></div>
                <div class="col-sm-9">
                  <h5 class="subtitulo">&nbsp;&nbsp;
                    <img  class="icon-avata2" src="./assets/img/down.png"/>&nbsp;<span class="tatalUpDown">{{totalAbajoZteEmp | totalPipe}}</span></h5>
              </div>
            </div>
        </div>
      </mat-card>
      <mat-card class="info col-sm-4 m-2">
        <div class="container">
          <div class="row">
            <div class="col-sm-12">
              <h5 class="tituloTe2">FIBER HOME:</h5>
            </div>
      
        </div>
        <div class="row">
          <div class="col-sm-2">
              <h4 class="totales">{{totalFhEmp | totalPipe}}</h4>
          </div>
          <div class="col-sm-9">
            <h5 class="subtitulo">&nbsp;&nbsp;
              <img  class="icon-avata2" src="./assets/img/up.png"/><span class="tatalUpDown">{{totalArribaFhEmp | totalPipe}}</span></h5>
        </div>
      
      </div>
            <div class="row">
              <div class="col-sm-2"></div>
                <div class="col-sm-9">
                  <h5 class="subtitulo">&nbsp;&nbsp;
                    <img  class="icon-avata" src="./assets/img/down.png"/><span class="tatalUpDown">{{totalAbajoFhEmp | totalPipe}}</span></h5>
              </div>
            </div>
        </div>
      </mat-card>

    </div>
  </div>
  <div class="col-sm-3 d-flex justify-content-center  pb-2 " style="padding-top: 36px;"> 
    <mat-card class="info col-sm-9  h-100" >
      <div class="container align-self-center">
        <div class="row">
          <div class="col-sm-12">
            <div class="row">
              <div class="col-sm-12">
                <span class="tituloCard">Último descubrimiento:</span> 
              </div>
            </div>
            <div class="row">
              <div class="col-sm-12">
                <span class="tituloTe2">
                  {{fechaAct  | dateFormat}}</span> 
              </div>
            </div>
          </div>
      </div>
      <mat-divider class="divider2"></mat-divider>
      <p></p>
      <div class="row">
        <div class="col-sm-12">
          <div class="row">
            <div class="col-sm-12">
              <span class="tituloCard">Próximo descubrimiento:</span> 
            </div>
          </div>
          <div class="row">
            <div class="col-sm-12">
              <span class="tituloTe2">
                {{FechaDes  | dateFormat}}</span> 
            </div>
          </div>
        </div>
    </div>
   
    <mat-divider class="divider2"></mat-divider>
    <p></p>
    <div class="row">
      <div class="col-sm-12">
        <div class="row">
          <div class="col-sm-12">
            <span class="tituloCard">Eventos recibidos:</span> 
          </div>
        </div>
        <div class="row">
          <div class="col-sm-12">
            <span class="tituloTe2">
             {{conteoPdmOnts  | totalPipe}}</span> 
          </div>
        </div>
      </div>
  </div>
  <mat-divider class="divider2"></mat-divider>

      </div>
  </mat-card> 
  </div>
  
</div>



    <br>
    <div class="row">
      
    
            
              <table mat-table [dataSource]="dataUp" class="mat-elevation-z8">
                <!-- ID Column -->
                <ng-container matColumnDef="region">
                  <th mat-header-cell *matHeaderCellDef > Región </th>
                <td mat-cell *matCellDef="let row" >{{row.region}} </td>
                
                </ng-container>
            
                <!-- Progress Column -->
                <ng-container matColumnDef="totalOlt">
                  <th mat-header-cell *matHeaderCellDef >Total OLTs</th>
                  <td mat-cell *matCellDef="let row" >    
                 <span *ngIf="row.totalOlt==row.totalRegion">   {{row.totalRegion}}</span> 
                 <span *ngIf="row.totalRegion != row.totalOlt">  {{row.totalRegion}}</span> 
                </td>
                </ng-container>

                <ng-container matColumnDef="totales">
                  <th mat-header-cell *matHeaderCellDef >Último poleo OLTs</th>
                  <td mat-cell *matCellDef="let row" >    
                     
                    <span *ngIf="row.totalOlt==row.totalRegion" class="verde"> {{row.totalOlt}}</span> 
                  <span *ngIf="row.totalRegion != row.totalOlt" class="rojo"> {{row.totalOlt}}</span> 
                </td>
                  
                </ng-container>

  
                <ng-container matColumnDef="totalOnts">
                    <th mat-header-cell *matHeaderCellDef >Total ONTs</th>
                    <td mat-cell *matCellDef="let row" > {{row.totalOnt}} </td>
                  </ng-container>
            
                  <ng-container matColumnDef="arriba">
                    <th mat-header-cell *matHeaderCellDef ><img class="icon-avata" src="./assets/img/hacia-arriba.png"/>ONTs Arriba</th>
                    <td mat-cell *matCellDef="let row"> {{row.arriba}} </td>
                  </ng-container>
                  <ng-container matColumnDef="abajo">
                    <th mat-header-cell *matHeaderCellDef ><img class="icon-avata" src="./assets/img/hacia-abajo.png"/>ONTs Abajo</th>
                    <td mat-cell *matCellDef="let row" > {{row.abajo}} </td>
                  </ng-container>
                  <ng-container matColumnDef="cambios">
                    <th mat-header-cell *matHeaderCellDef ><img class="icon-avata" src="./assets/img/camb.png"/>&nbsp;Cambios</th>
                    <td mat-cell *matCellDef="let row" > {{row.cambios}} </td>
                  </ng-container>

                  <ng-container matColumnDef="acciones">
                    <th mat-header-cell *matHeaderCellDef >Acciones</th>
                    <td mat-cell *matCellDef="let row" class="iconCur"> 
                        <mat-icon matTooltip="Ver OLTs"    (click)="getClasificacion(row.idRegion,row.region)">more_horiz</mat-icon>
                        <!--mat-icon   *ngIf="row.totalOlt ==0" >more_horiz</mat-icon-->
                    </td>
                  </ng-container>
                
                <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
            
                <!-- Row shown when there is no matching data. -->
                <tr class="mat-row" *matNoDataRow>
                  <td class="mat-cell" colspan="4">Sin registros </td>
                </tr>
              </table>
              <!--mat-paginator  #tbl1 showFirstLastButtons  aria-label="Select page of users" [ngStyle]="{'width':width}"
              [pageSize]="pageSize"
              [pageSizeOptions]="pageSizeOptions"></mat-paginator-->
            
    </div>
</div>
  
  <app-home *ngIf="muestraHome=='true'" ></app-home>

  <app-detalle-ont *ngIf="muestraDetalle=='true' && busqueda=='1' "></app-detalle-ont>

  <app-actualizacion *ngIf=" detalleClasificacion=='true'"></app-actualizacion>  

  <app-consultaOlts *ngIf=" detalleOnts=='true'"></app-consultaOlts> 

